EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:stm32
LIBS:vs10xx
LIBS:MicroSD
LIBS:tp4056
LIBS:sdmplayerv0.01-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L STM32F103RCTx U3
U 1 1 571276C2
P 7700 2900
F 0 "U3" H 5000 4825 50  0000 L BNN
F 1 "STM32F103RCTx" H 10400 4825 50  0000 R BNN
F 2 "Housings_QFP:LQFP-64_10x10mm_Pitch0.5mm" H 10400 4775 50  0000 R TNN
F 3 "" H 7700 2900 50  0000 C CNN
	1    7700 2900
	1    0    0    -1  
$EndComp
$Comp
L VS1053 U1
U 1 1 5712778D
P 1800 2650
F 0 "U1" H 1350 4600 60  0000 C CNN
F 1 "VS1053" H 2250 650 60  0000 C CNN
F 2 "Housings_QFP:LQFP-48_7x7mm_Pitch0.5mm" H 1800 2650 60  0001 C CNN
F 3 "" H 1800 2650 60  0000 C CNN
	1    1800 2650
	1    0    0    -1  
$EndComp
$Comp
L SD_Card CON1
U 1 1 5712792B
P 9600 5800
F 0 "CON1" H 8950 6350 50  0000 C CNN
F 1 "SD_Card" H 10200 5250 50  0000 C CNN
F 2 "Connect:SD_Card_Receptacle" H 9800 6150 50  0000 C CNN
F 3 "" H 9600 5800 50  0000 C CNN
	1    9600 5800
	-1   0    0    1   
$EndComp
$Comp
L TP4056 U2
U 1 1 57127D0B
P 4300 6000
F 0 "U2" H 4300 5700 60  0000 C CNN
F 1 "TP4056" H 4300 6300 60  0000 C CNN
F 2 "SMD_Packages:SO-8_PowerPAK_Vishay_Single" H 4300 6000 60  0001 C CNN
F 3 "" H 4300 6000 60  0000 C CNN
	1    4300 6000
	1    0    0    -1  
$EndComp
$Comp
L USB_OTG P1
U 1 1 57127FA4
P 7300 5700
F 0 "P1" H 7625 5575 50  0000 C CNN
F 1 "USB_OTG" H 7300 5900 50  0000 C CNN
F 2 "Connect:USB_Micro-B" V 7250 5600 50  0001 C CNN
F 3 "" V 7250 5600 50  0000 C CNN
	1    7300 5700
	1    0    0    -1  
$EndComp
$Comp
L AT24CS64-SSHM IC1
U 1 1 5712824B
P 950 7100
F 0 "IC1" H 750 7350 50  0000 C CNN
F 1 "AT24CS64-SSHM" H 1250 6800 50  0000 C CNN
F 2 "SO8" H 950 7100 50  0000 C CIN
F 3 "" H 950 7100 50  0000 C CNN
	1    950  7100
	1    0    0    -1  
$EndComp
$Comp
L CONN_01X09 P2
U 1 1 571282CA
P 6800 7250
F 0 "P2" H 6800 7750 50  0000 C CNN
F 1 "CONN_01X09" V 6900 7250 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x09" H 6800 7250 50  0001 C CNN
F 3 "" H 6800 7250 50  0000 C CNN
	1    6800 7250
	1    0    0    -1  
$EndComp
$Comp
L CRYSTAL_SMD X1
U 1 1 5713CBBC
P 4700 2500
F 0 "X1" H 4700 2590 50  0000 C CNN
F 1 "8MHz" H 4730 2390 50  0000 L CNN
F 2 "" H 4700 2500 50  0000 C CNN
F 3 "" H 4700 2500 50  0000 C CNN
	1    4700 2500
	0    1    1    0   
$EndComp
Wire Wire Line
	4300 2700 4900 2700
Wire Wire Line
	4900 2300 4900 2600
$Comp
L C_Small C2
U 1 1 5713D100
P 4300 2600
F 0 "C2" H 4310 2670 50  0000 L CNN
F 1 "22pF" H 4310 2520 50  0000 L CNN
F 2 "" H 4300 2600 50  0000 C CNN
F 3 "" H 4300 2600 50  0000 C CNN
	1    4300 2600
	1    0    0    -1  
$EndComp
$Comp
L C_Small C1
U 1 1 5713D139
P 4300 2400
F 0 "C1" H 4310 2470 50  0000 L CNN
F 1 "22pF" H 4310 2320 50  0000 L CNN
F 2 "" H 4300 2400 50  0000 C CNN
F 3 "" H 4300 2400 50  0000 C CNN
	1    4300 2400
	1    0    0    -1  
$EndComp
Connection ~ 4700 2300
Connection ~ 4700 2700
Wire Wire Line
	4150 2500 4600 2500
Connection ~ 4300 2500
Wire Wire Line
	4300 2300 4900 2300
$Comp
L GND #PWR01
U 1 1 5713DB03
P 4150 2600
F 0 "#PWR01" H 4150 2350 50  0001 C CNN
F 1 "GND" H 4150 2450 50  0000 C CNN
F 2 "" H 4150 2600 50  0000 C CNN
F 3 "" H 4150 2600 50  0000 C CNN
	1    4150 2600
	1    0    0    -1  
$EndComp
Wire Wire Line
	4150 1050 4150 2600
Wire Wire Line
	4900 1500 4150 1500
Connection ~ 4150 2500
$Comp
L SW_PUSH SW1
U 1 1 5713DFE5
P 4450 1300
F 0 "SW1" H 4600 1410 50  0000 C CNN
F 1 "SW_PUSH" H 4450 1220 50  0000 C CNN
F 2 "" H 4450 1300 50  0000 C CNN
F 3 "" H 4450 1300 50  0000 C CNN
	1    4450 1300
	1    0    0    -1  
$EndComp
$Comp
L C C5
U 1 1 5713E02C
P 4450 1050
F 0 "C5" H 4475 1150 50  0000 L CNN
F 1 "C" H 4475 950 50  0000 L CNN
F 2 "" H 4488 900 50  0000 C CNN
F 3 "" H 4450 1050 50  0000 C CNN
	1    4450 1050
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4900 1300 4750 1300
Wire Wire Line
	4750 1300 4750 1050
Wire Wire Line
	4750 1050 4600 1050
Wire Wire Line
	4300 1050 4150 1050
Connection ~ 4150 1500
Connection ~ 4150 1300
Connection ~ 4750 1300
$Comp
L CONN_01X01 P3
U 1 1 5713FB14
P 4600 1700
F 0 "P3" H 4600 1800 50  0000 C CNN
F 1 "ClockBat" V 4700 1700 50  0000 C CNN
F 2 "" H 4600 1700 50  0000 C CNN
F 3 "" H 4600 1700 50  0000 C CNN
	1    4600 1700
	-1   0    0    1   
$EndComp
Wire Wire Line
	4900 1700 4800 1700
$Comp
L CRYSTAL_SMD X2
U 1 1 5714023A
P 4750 4600
F 0 "X2" H 4750 4690 50  0000 C CNN
F 1 "32768Hz" H 4780 4490 50  0000 L CNN
F 2 "" H 4750 4600 50  0000 C CNN
F 3 "" H 4750 4600 50  0000 C CNN
	1    4750 4600
	0    1    1    0   
$EndComp
Wire Wire Line
	4400 4400 4900 4400
Wire Wire Line
	4900 4800 4900 4500
Wire Wire Line
	4400 4800 4900 4800
$Comp
L C_Small C3
U 1 1 57140396
P 4400 4500
F 0 "C3" H 4410 4570 50  0000 L CNN
F 1 "22pF" H 4410 4420 50  0000 L CNN
F 2 "" H 4400 4500 50  0000 C CNN
F 3 "" H 4400 4500 50  0000 C CNN
	1    4400 4500
	1    0    0    -1  
$EndComp
$Comp
L C_Small C4
U 1 1 571403ED
P 4400 4700
F 0 "C4" H 4410 4770 50  0000 L CNN
F 1 "22pF" H 4410 4620 50  0000 L CNN
F 2 "" H 4400 4700 50  0000 C CNN
F 3 "" H 4400 4700 50  0000 C CNN
	1    4400 4700
	1    0    0    -1  
$EndComp
Connection ~ 4750 4800
Wire Wire Line
	4250 4600 4650 4600
Connection ~ 4400 4600
Connection ~ 4750 4400
$Comp
L GND #PWR02
U 1 1 57140B71
P 4250 4650
F 0 "#PWR02" H 4250 4400 50  0001 C CNN
F 1 "GND" H 4250 4500 50  0000 C CNN
F 2 "" H 4250 4650 50  0000 C CNN
F 3 "" H 4250 4650 50  0000 C CNN
	1    4250 4650
	1    0    0    -1  
$EndComp
Wire Wire Line
	4250 4650 4250 4600
Wire Wire Line
	10500 3600 11000 3600
Wire Wire Line
	10500 3700 11000 3700
Text Label 10550 3600 0    60   ~ 0
I2C1_SCL
Text Label 10550 3700 0    60   ~ 0
I2C1_SDA
$Comp
L R R2
U 1 1 5714322F
P 1550 7000
F 0 "R2" V 1630 7000 50  0000 C CNN
F 1 "R" V 1550 7000 50  0000 C CNN
F 2 "" V 1480 7000 50  0000 C CNN
F 3 "" H 1550 7000 50  0000 C CNN
	1    1550 7000
	1    0    0    -1  
$EndComp
$Comp
L R R1
U 1 1 57143276
P 1400 6850
F 0 "R1" V 1480 6850 50  0000 C CNN
F 1 "R" V 1400 6850 50  0000 C CNN
F 2 "" V 1330 6850 50  0000 C CNN
F 3 "" H 1400 6850 50  0000 C CNN
	1    1400 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	1350 7150 1950 7150
Wire Wire Line
	1350 7000 1950 7000
Connection ~ 1400 7000
Connection ~ 1550 7150
Text Label 1700 7000 0    60   ~ 0
I2C1_SDA
Text Label 1700 7150 0    60   ~ 0
I2C1_SCL
$Comp
L +3.3V #PWR03
U 1 1 571436C9
P 750 6700
F 0 "#PWR03" H 750 6550 50  0001 C CNN
F 1 "+3.3V" H 750 6840 50  0000 C CNN
F 2 "" H 750 6700 50  0000 C CNN
F 3 "" H 750 6700 50  0000 C CNN
	1    750  6700
	1    0    0    -1  
$EndComp
Wire Wire Line
	550  6950 550  7500
Connection ~ 550  7050
Connection ~ 550  7150
Wire Wire Line
	550  7500 950  7500
Connection ~ 550  7300
$Comp
L GND #PWR04
U 1 1 57143DF0
P 750 7550
F 0 "#PWR04" H 750 7300 50  0001 C CNN
F 1 "GND" H 750 7400 50  0000 C CNN
F 2 "" H 750 7550 50  0000 C CNN
F 3 "" H 750 7550 50  0000 C CNN
	1    750  7550
	1    0    0    -1  
$EndComp
Wire Wire Line
	750  7550 750  7500
Connection ~ 750  7500
Wire Wire Line
	750  6700 1550 6700
Wire Wire Line
	1550 6700 1550 6850
Connection ~ 1400 6700
Wire Wire Line
	950  6750 950  6700
Connection ~ 950  6700
Wire Notes Line
	500  6500 2200 6500
Wire Notes Line
	2200 7750 500  7750
Text Notes 1050 7700 0    60   ~ 0
EEPROM for settings and \n    some other data
Wire Wire Line
	10500 4000 11000 4000
Wire Wire Line
	10500 4100 11000 4100
Text Label 10550 4000 0    60   ~ 0
I2C2_SCL
Text Label 10550 4100 0    60   ~ 0
I2C2_SDA
Wire Wire Line
	6600 7650 5900 7650
Text Label 6150 7650 0    60   ~ 0
I2C2_SDA
Wire Wire Line
	6600 7550 5900 7550
Text Label 6150 7550 0    60   ~ 0
I2C2_SCL
Wire Wire Line
	10500 3200 11000 3200
Wire Wire Line
	10500 3100 11000 3100
Wire Wire Line
	10500 3000 11000 3000
Text Label 10550 3000 0    60   ~ 0
PB0
Text Label 10550 3100 0    60   ~ 0
PB1
Text Label 10550 3200 0    60   ~ 0
PB2
Wire Wire Line
	6600 7450 5900 7450
Wire Wire Line
	6600 7350 5900 7350
Wire Wire Line
	6600 7250 5900 7250
Text Label 6150 7450 0    60   ~ 0
PB0
Text Label 6150 7350 0    60   ~ 0
PB1
Text Label 6150 7250 0    60   ~ 0
PB2
Wire Wire Line
	4900 3500 4400 3500
Text Label 4450 3500 0    60   ~ 0
PC5
Wire Wire Line
	6600 7150 5900 7150
Wire Wire Line
	6600 7050 5900 7050
Text Label 6150 7150 0    60   ~ 0
PC5
Text Label 6150 7050 0    60   ~ 0
PC4
Wire Wire Line
	4900 3400 4400 3400
Text Label 4450 3400 0    60   ~ 0
PC4
Wire Wire Line
	6600 6950 5700 6950
Wire Wire Line
	5700 6950 5700 7100
$Comp
L GND #PWR05
U 1 1 5714ABA1
P 5700 7100
F 0 "#PWR05" H 5700 6850 50  0001 C CNN
F 1 "GND" H 5700 6950 50  0000 C CNN
F 2 "" H 5700 7100 50  0000 C CNN
F 3 "" H 5700 7100 50  0000 C CNN
	1    5700 7100
	1    0    0    -1  
$EndComp
Wire Wire Line
	6600 6850 5700 6850
Wire Wire Line
	5700 6850 5700 6800
$Comp
L +3.3V #PWR06
U 1 1 5714AC2E
P 5700 6800
F 0 "#PWR06" H 5700 6650 50  0001 C CNN
F 1 "+3.3V" H 5700 6940 50  0000 C CNN
F 2 "" H 5700 6800 50  0000 C CNN
F 3 "" H 5700 6800 50  0000 C CNN
	1    5700 6800
	1    0    0    -1  
$EndComp
Wire Notes Line
	5550 7800 6950 7800
Wire Notes Line
	6950 7800 6950 6550
Wire Notes Line
	6950 6550 5550 6550
Wire Notes Line
	5550 6550 5550 7800
Text Notes 5900 6750 0    60   ~ 0
Connector for \nkeyboard module
Wire Wire Line
	7500 4900 7900 4900
Connection ~ 7600 4900
Connection ~ 7700 4900
Connection ~ 7800 4900
Wire Wire Line
	7500 900  7900 900 
Connection ~ 7600 900 
Connection ~ 7700 900 
Connection ~ 7800 900 
$Comp
L GND #PWR07
U 1 1 5714CB47
P 7700 4950
F 0 "#PWR07" H 7700 4700 50  0001 C CNN
F 1 "GND" H 7700 4800 50  0000 C CNN
F 2 "" H 7700 4950 50  0000 C CNN
F 3 "" H 7700 4950 50  0000 C CNN
	1    7700 4950
	1    0    0    -1  
$EndComp
Wire Wire Line
	7700 4900 7700 4950
$Comp
L +3.3V #PWR08
U 1 1 5714D4E1
P 7700 850
F 0 "#PWR08" H 7700 700 50  0001 C CNN
F 1 "+3.3V" H 7700 990 50  0000 C CNN
F 2 "" H 7700 850 50  0000 C CNN
F 3 "" H 7700 850 50  0000 C CNN
	1    7700 850 
	1    0    0    -1  
$EndComp
Wire Wire Line
	7700 850  7700 900 
Wire Notes Line
	500  7750 500  6500
Wire Notes Line
	2200 6500 2200 7750
Wire Bus Line
	11150 6500 11150 600 
Wire Bus Line
	11150 600  550  600 
Wire Bus Line
	550  600  550  4600
Entry Wire Line
	11050 6200 11150 6300
Entry Wire Line
	11050 6100 11150 6200
Entry Wire Line
	11050 6000 11150 6100
Entry Wire Line
	11050 5700 11150 5800
Entry Wire Line
	11050 5500 11150 5600
Entry Wire Line
	11050 5400 11150 5500
Wire Wire Line
	10500 5400 11050 5400
Wire Wire Line
	10500 5500 11050 5500
Wire Wire Line
	10500 5600 10550 5600
Wire Wire Line
	10550 5600 10550 6300
Wire Wire Line
	10550 5900 10500 5900
Connection ~ 10550 5900
$Comp
L GND #PWR09
U 1 1 5715471E
P 10550 6300
F 0 "#PWR09" H 10550 6050 50  0001 C CNN
F 1 "GND" H 10550 6150 50  0000 C CNN
F 2 "" H 10550 6300 50  0000 C CNN
F 3 "" H 10550 6300 50  0000 C CNN
	1    10550 6300
	1    0    0    -1  
$EndComp
Wire Wire Line
	11050 5700 10500 5700
Wire Wire Line
	10500 5800 10600 5800
Wire Wire Line
	10600 5800 10600 5300
$Comp
L +3.3V #PWR010
U 1 1 57154846
P 10600 5300
F 0 "#PWR010" H 10600 5150 50  0001 C CNN
F 1 "+3.3V" H 10600 5440 50  0000 C CNN
F 2 "" H 10600 5300 50  0000 C CNN
F 3 "" H 10600 5300 50  0000 C CNN
	1    10600 5300
	1    0    0    -1  
$EndComp
Wire Wire Line
	10500 6000 11050 6000
Wire Wire Line
	10500 6100 11050 6100
Wire Wire Line
	10500 6200 11050 6200
Wire Bus Line
	7000 6500 11150 6500
Entry Wire Line
	8650 6400 8750 6500
$Comp
L R R3
U 1 1 57156725
P 8350 5850
F 0 "R3" V 8430 5850 50  0000 C CNN
F 1 "5k" V 8350 5850 50  0000 C CNN
F 2 "" V 8280 5850 50  0000 C CNN
F 3 "" H 8350 5850 50  0000 C CNN
	1    8350 5850
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR011
U 1 1 571567A2
P 8350 5650
F 0 "#PWR011" H 8350 5500 50  0001 C CNN
F 1 "+3.3V" H 8350 5790 50  0000 C CNN
F 2 "" H 8350 5650 50  0000 C CNN
F 3 "" H 8350 5650 50  0000 C CNN
	1    8350 5650
	1    0    0    -1  
$EndComp
Wire Wire Line
	8350 5650 8350 5700
Wire Wire Line
	8650 6000 8650 6400
Wire Wire Line
	8350 6000 8700 6000
Connection ~ 8650 6000
$Comp
L GND #PWR012
U 1 1 5715747F
P 8600 5750
F 0 "#PWR012" H 8600 5500 50  0001 C CNN
F 1 "GND" H 8600 5600 50  0000 C CNN
F 2 "" H 8600 5750 50  0000 C CNN
F 3 "" H 8600 5750 50  0000 C CNN
	1    8600 5750
	1    0    0    -1  
$EndComp
Wire Wire Line
	8600 5600 8600 5750
Wire Wire Line
	8600 5700 8700 5700
Wire Wire Line
	8700 5600 8600 5600
Connection ~ 8600 5700
Text Label 10600 6200 0    60   ~ 0
DAT2
Text Label 10600 6100 0    60   ~ 0
DAT3
Text Label 10600 6000 0    60   ~ 0
SD_CMD
Text Label 10650 5700 0    60   ~ 0
SD_CLK
Text Label 10650 5500 0    60   ~ 0
DAT0
Text Label 10650 5400 0    60   ~ 0
DAT1
Text Label 8650 6350 0    60   ~ 0
SD_CONN
Entry Bus Bus
	3750 600  3850 700 
Wire Bus Line
	3850 700  3850 4950
Entry Wire Line
	3850 2700 3950 2800
Entry Wire Line
	3850 4100 3950 4200
Entry Wire Line
	3850 4000 3950 4100
Entry Wire Line
	3850 3900 3950 4000
Entry Wire Line
	3850 3800 3950 3900
Entry Wire Line
	3850 3700 3950 3800
Wire Wire Line
	3950 4200 4900 4200
Wire Wire Line
	4900 4100 3950 4100
Wire Wire Line
	3950 4000 4900 4000
Wire Wire Line
	3950 3900 4900 3900
Wire Wire Line
	4900 3800 3950 3800
Text Label 4100 3800 0    60   ~ 0
DAT0
Text Label 4100 3900 0    60   ~ 0
DAT1
Text Label 4100 4000 0    60   ~ 0
DAT2
Text Label 4100 4100 0    60   ~ 0
DAT3
Text Label 4100 4200 0    60   ~ 0
SD_CLK
Wire Wire Line
	4900 2800 3950 2800
Text Label 4300 2800 0    60   ~ 0
SD_CMD
Wire Notes Line
	8200 5000 8200 6450
Wire Notes Line
	8200 6450 11100 6450
Wire Notes Line
	11100 6450 11100 5000
Wire Notes Line
	11100 5000 8200 5000
Text Notes 8300 5150 0    60   ~ 0
SD CARD
Entry Wire Line
	7300 6400 7400 6500
Entry Wire Line
	7200 6400 7300 6500
Wire Wire Line
	7200 6000 7200 6400
Wire Wire Line
	7300 6000 7300 6400
Text Label 7300 6350 1    60   ~ 0
USB_DP
Text Label 7200 6350 1    60   ~ 0
USB_DM
$Comp
L +5V #PWR013
U 1 1 5715E97D
P 6900 5850
F 0 "#PWR013" H 6900 5700 50  0001 C CNN
F 1 "+5V" H 6900 5990 50  0000 C CNN
F 2 "" H 6900 5850 50  0000 C CNN
F 3 "" H 6900 5850 50  0000 C CNN
	1    6900 5850
	1    0    0    -1  
$EndComp
Wire Wire Line
	7100 6000 7100 6050
Wire Wire Line
	7100 6050 6900 6050
Wire Wire Line
	6900 6050 6900 5850
$Comp
L GND #PWR014
U 1 1 5715EB9A
P 7500 6050
F 0 "#PWR014" H 7500 5800 50  0001 C CNN
F 1 "GND" H 7500 5900 50  0000 C CNN
F 2 "" H 7500 6050 50  0000 C CNN
F 3 "" H 7500 6050 50  0000 C CNN
	1    7500 6050
	1    0    0    -1  
$EndComp
Wire Wire Line
	7500 6050 7500 6000
Entry Wire Line
	11050 2800 11150 2900
Entry Wire Line
	11050 2400 11150 2500
Entry Wire Line
	11050 2500 11150 2600
Wire Wire Line
	11050 2400 10500 2400
Wire Wire Line
	10500 2500 11050 2500
Wire Wire Line
	11050 2800 10500 2800
Text Label 10550 2800 0    60   ~ 0
SD_CONN
Text Label 10550 2500 0    60   ~ 0
USB_DP
Text Label 10550 2400 0    60   ~ 0
USB_DM
$Comp
L CONN_01X02 P4
U 1 1 57160726
P 11000 2250
F 0 "P4" H 11000 2400 50  0000 C CNN
F 1 "USART1" V 11100 2250 50  0000 C CNN
F 2 "" H 11000 2250 50  0000 C CNN
F 3 "" H 11000 2250 50  0000 C CNN
	1    11000 2250
	1    0    0    -1  
$EndComp
Wire Wire Line
	10500 2200 10850 2200
Wire Wire Line
	10850 2300 10500 2300
$EndSCHEMATC
